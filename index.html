<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B.B.Q. HOUSE - App</title>
    <style>
        :root {
            --dorado: #d4af37;
            --negro: #000;
            --gris: #1a1a1a;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--negro);
            color: white;
            margin: 0;
            padding-bottom: 80px; /* Espacio para la barra fija */
        }

        .header {
            text-align: center;
            padding: 20px;
            border-bottom: 2px solid var(--dorado);
        }

        .logo { width: 100px; border-radius: 50%; border: 2px solid var(--dorado); }

        .container { padding: 15px; }

        /* Estilo Producto */
        .producto {
            background: var(--gris);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #333;
        }

        .controles { display: flex; align-items: center; gap: 10px; }
        
        .btn-cant {
            background: var(--dorado);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.2em;
            cursor: pointer;
        }

        /* Formulario */
        .card-datos {
            background: var(--gris);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--dorado);
            margin-top: 20px;
        }

        input, select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: #000;
            border: 1px solid #444;
            color: white;
            border-radius: 8px;
            box-sizing: border-box;
        }

        /* BOT√ìN EDITAR (Mejorado) */
        .btn-editar {
            background: #333;
            color: var(--dorado);
            border: 1px solid var(--dorado);
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.8em;
            cursor: pointer;
            display: block;
            margin: 10px 0;
            text-align: center;
        }

        .btn-whatsapp {
            background: #25d366;
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 15px;
            cursor: pointer;
        }

        /* BARRA TOTAL (Corregida) */
        .barra-total {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: var(--dorado);
            color: black;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>
<body>

    <div class="header">
        <img src="bbq-house.PNG" class="logo">
        <h2 style="color: var(--dorado); margin: 10px 0 0;">B.B.Q. HOUSE</h2>
        <p style="font-size: 0.8em;">Cra. 24 #9b-34, Caucasia</p>
    </div>

    <div class="container">
        <h3 style="border-left: 4px solid var(--dorado); padding-left: 10px;">MEN√ö</h3>

        <div class="producto">
            <div>
                <p style="margin:0; color:var(--dorado); font-weight:bold;">Alitas BBQ (x10)</p>
                <p style="margin:5px 0 0; font-size:0.9em;">$25.000</p>
            </div>
            <div class="controles">
                <button class="btn-cant" onclick="sumar(-1)">-</button>
                <span id="cantidad">0</span>
                <button class="btn-cant" onclick="sumar(1)">+</button>
            </div>
        </div>

        <div class="card-datos">
            <label style="font-size: 0.8em; color: var(--dorado);">DATOS DE ENV√çO</label>
            <input type="text" id="nombre" placeholder="Nombre completo" oninput="guardar()">
            <input type="email" id="correo" placeholder="Correo electr√≥nico" oninput="guardar()">
            <input type="text" id="direccion" placeholder="Direcci√≥n en Caucasia" oninput="guardar()">
            <select id="pago" onchange="guardar()">
                <option value="Efectivo">Efectivo</option>
                <option value="Nequi">Nequi</option>
                <option value="Bancolombia">Transferencia</option>
            </select>
            
            <button class="btn-editar" onclick="limpiar()">EDITAR / CAMBIAR DATOS</button>
        </div>

        <button class="btn-whatsapp" onclick="enviar()">üöÄ ENVIAR PEDIDO</button>
    </div>

    <div class="barra-total" id="total-txt">
        TOTAL: $5.000
    </div>

    <script>
        let cant = 0;
        const PRECIO = 25000;
        const DOMI = 5000;

        window.onload = () => {
            document.getElementById('nombre').value = localStorage.getItem('bbq_nom') || '';
            document.getElementById('correo').value = localStorage.getItem('bbq_cor') || '';
            document.getElementById('direccion').value = localStorage.getItem('bbq_dir') || '';
            document.getElementById('pago').value = localStorage.getItem('bbq_pag') || 'Efectivo';
        };

        function guardar() {
            localStorage.setItem('bbq_nom', document.getElementById('nombre').value);
            localStorage.setItem('bbq_cor', document.getElementById('correo').value);
            localStorage.setItem('bbq_dir', document.getElementById('direccion').value);
            localStorage.setItem('bbq_pag', document.getElementById('pago').value);
        }

        function limpiar() {
            if(confirm("¬øQuieres borrar los datos guardados para escribir unos nuevos?")) {
                localStorage.clear();
                location.reload();
            }
        }

        function sumar(v) {
            cant = Math.max(0, cant + v);
            document.getElementById('cantidad').innerText = cant;
            let total = (cant * PRECIO) + DOMI;
            document.getElementById('total-txt').innerText = "TOTAL: $" + total.toLocaleString('es-CO');
        }

        function enviar() {
            const nom = document.getElementById('nombre').value;
            const dir = document.getElementById('direccion').value;
            if(!nom || !dir || cant === 0) return alert("Completa tus datos y el pedido.");

            let total = (cant * PRECIO) + DOMI;
            let msj = `*NUEVO PEDIDO BBQ HOUSE*%0A` +
                      `--------------------------%0A` +
                      `*Cliente:* ${nom}%0A` +
                      `*Direcci√≥n:* ${dir}%0A` +
                      `*Pago:* ${document.getElementById('pago').value}%0A` +
                      `--------------------------%0A` +
                      `*Pedido:* ${cant} x Alitas BBQ%0A` +
                      `*Domicilio:* $5.000%0A` +
                      `*TOTAL:* $${total.toLocaleString('es-CO')}`;

            window.open(`https://wa.me/573246844148?text=${msj}`, '_blank');
        }
    </script>
</body>
</html>
